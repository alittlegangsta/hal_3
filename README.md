# 测井数据智能分析项目

## 项目概述

本项目利用超声测井数据（CAST）作为标签，通过AI模型分析第3号阵列接收器的声波测井数据，识别声波信号中对水泥胶结窜槽现象敏感的时频特征，并确保方法的可逆性。

## 核心方法论

### 1. 单接收器中心原则
- 完全基于第3号阵列接收器（XSILMR03.mat）的波形数据
- 忽略其他接收器的数据，专注于单个接收器的特征分析

### 2. 精确局部化标签原则
- 为每条波形根据其精确物理位置（深度和方位）生成高精度回归标签
- 标签基于超声数据中的窜槽比例计算

### 3. 直接特征映射原则
- AI模型学习从单个原始波形特征到局部胶结状况的直接映射
- 不依赖阵列处理的物理增强信息

## 项目架构

```
project/
├── data/                           # 数据目录
│   ├── raw/                       # 原始数据
│   │   ├── CAST.mat              # 超声测井数据
│   │   └── XSILMR03.mat          # 第3号接收器声波数据
│   ├── processed/                 # 处理后数据
│   └── results/                   # 结果数据
├── src/                           # 源代码
│   ├── data_processing/           # 数据处理模块
│   │   ├── __init__.py
│   │   ├── data_loader.py        # 数据加载器
│   │   ├── signal_processor.py   # 信号处理（滤波、特征提取）
│   │   └── label_generator.py    # 标签生成器
│   ├── models/                    # 模型模块
│   │   ├── __init__.py
│   │   ├── cnn_model.py          # CNN模型定义
│   │   └── feature_extractor.py  # 特征提取器
│   ├── training/                  # 训练模块
│   │   ├── __init__.py
│   │   ├── trainer.py            # 模型训练器
│   │   └── evaluator.py          # 模型评估器
│   ├── visualization/             # 可视化模块
│   │   ├── __init__.py
│   │   ├── grad_cam.py           # Grad-CAM实现
│   │   └── plotter.py            # 绘图工具
│   └── utils/                     # 工具模块
│       ├── __init__.py
│       └── helpers.py            # 辅助函数
├── configs/                       # 配置文件
│   └── config.yaml               # 主配置文件
├── notebooks/                     # Jupyter笔记本
├── scripts/                       # 脚本文件
│   ├── run_preprocessing.py      # 数据预处理脚本
│   ├── run_training.py           # 训练脚本
│   └── run_inference.py          # 推理脚本
├── tests/                         # 测试文件
└── requirements.txt               # 依赖文件
```

## 实施流程

### 阶段一：数据准备与物理对齐
1. **数据加载**：加载XSILMR03.mat和CAST.mat数据
2. **深度校准**：计算第3号接收器的实际物理深度
3. **数据筛选**：筛选目标深度范围（2732-4132 ft）的数据

### 阶段二：信号处理与特征工程
1. **高通滤波**：4阶巴特沃斯高通滤波器（截止频率1000Hz）
2. **特征提取**：
   - **图像特征**：连续小波变换（CWT）生成时频谱图
   - **数值特征**：统计特征（RMS、峰值、主频等）

### 阶段三：标签生成
1. **方位映射**：将8个方位接收器映射到对应的角度扇区
2. **三维窗口查询**：在超声数据中定义深度和方位窗口
3. **窜槽比例计算**：统计窗口内Zc < 2.5的比例作为回归标签

### 阶段四：AI模型训练
1. **模型架构**：混合输入CNN模型（图像分支 + 数值分支）
2. **训练策略**：回归任务，MSE损失函数
3. **验证评估**：交叉验证和性能指标评估

### 阶段五：模型解释与应用
1. **Grad-CAM可视化**：识别时频谱图中的敏感区域
2. **特征解释**：分析敏感的时间和频率成分
3. **可逆应用**：新井数据的预测和解释

## 技术原理

### 信号处理原理
- **高通滤波**：去除低频干扰，保留高频声波信号
- **连续小波变换**：提供时频分辨率，捕获瞬时频率变化
- **统计特征**：补充时域和频域的全局特征信息

### 深度学习原理
- **CNN架构**：自动学习局部和全局的时频模式
- **混合输入**：融合图像特征和数值特征的优势
- **回归学习**：直接预测连续的窜槽比例值

### 可解释性原理
- **Grad-CAM**：通过梯度反向传播识别重要的时频区域
- **特征重要性**：量化不同时间和频率成分的贡献
- **物理解释**：将AI识别的特征映射到声波传播物理现象

## 创新点

1. **单接收器聚焦**：避免阵列处理的复杂性，专注于单点特征
2. **精确标签生成**：基于物理位置的高精度标签计算
3. **时频特征学习**：结合时域和频域信息的深度学习
4. **可逆性设计**：确保方法可应用于新井数据的预测

## 预期成果

1. **特征识别**：识别出对窜槽敏感的具体时频成分
2. **预测模型**：训练好的CNN模型可预测新井的窜槽情况
3. **可视化工具**：Grad-CAM热力图显示敏感特征位置
4. **应用指南**：详细的使用说明和最佳实践 